<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í†µí•© ì¢Œì„ ì˜ˆì•½ ì‹œìŠ¤í…œ ë©”ì¸</title>
    <style>
/* ... (CSS ë¶€ë¶„ì€ ë³€í™” ì—†ìŒ) ... */
        /* -------------------- ê³µí†µ ê¸°ë³¸ ìŠ¤íƒ€ì¼ -------------------- */
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 30px; 
            background-color: #f0f0f0; 
            display: flex; 
            flex-direction: column; 
            align-items: center;
            min-height: 100vh;
            padding-top: 50px; 
        }
        
        /* -------------------- Main Hub View ìŠ¤íƒ€ì¼ -------------------- */
        #main-hub {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }
        .nav-container { 
            display: flex; 
            flex-direction: column; 
            gap: 20px; 
            width: 350px; 
            padding: 30px; 
            background-color: white; 
            border-radius: 8px; 
            box-shadow: 0 4px 10px rgba(0,0,0,0.1); 
        }
        .nav-button { 
            padding: 15px; 
            background-color: #007bff; 
            color: white; 
            text-decoration: none; 
            text-align: center; 
            border-radius: 5px; 
            font-weight: bold; 
            font-size: 18px; 
            transition: background-color 0.2s; 
            cursor: pointer;
            display: block; 
        }
        .nav-button:hover { background-color: #0056b3; }

        /* -------------------- ëª¨ë‹¬ ë° ê³ ì • ë²„íŠ¼ ìŠ¤íƒ€ì¼ -------------------- */
        .modal { display: none; position: fixed; z-index: 10; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.6); }
        .modal-content { 
            background-color: #fefefe; margin: 15% auto; padding: 30px; border: 1px solid #888; 
            width: 90%; max-width: 450px; border-radius: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.2); 
        }
        .input-group label { display: block; font-weight: bold; margin-bottom: 5px; color: #333; }
        .input-group input { width: 90%; padding: 8px; margin-bottom: 5px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box;}
        .modal-buttons button { padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; font-weight: bold; }
        #admin-login-button { background-color: #4CAF50; color: white; }
        #admin-cancel-button { background-color: #f44336; color: white; }

        #admin-mode-toggle { 
            position: fixed; 
            top: 10px; 
            right: 10px; 
            padding: 10px 15px; 
            background-color: #007bff; 
            color: white; 
            border: none; 
            border-radius: 5px; 
            cursor: pointer; 
            z-index: 11; 
            font-weight: bold;
        }
        #admin-mode-toggle.admin-logged-in { background-color: #ff9800 !important; }
    </style>

    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script>
        // DOMContentLoadedë¥¼ ì‚¬ìš©í•˜ì—¬ HTML ìš”ì†Œê°€ ì™„ì „íˆ ë¡œë“œëœ í›„ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.
        window.addEventListener('DOMContentLoaded', () => {

            // -------------------- Firebase ì„¤ì •: ë°˜ë“œì‹œ ë³¸ì¸ì˜ ì„¤ì • ê°’ìœ¼ë¡œ êµì²´í•˜ì„¸ìš”! --------------------
            // â˜…â˜…â˜… ì´ ë¶€ë¶„ì„ 1ë‹¨ê³„ì—ì„œ ë³µì‚¬í•œ ì‹¤ì œ config ê°ì²´ë¡œ í†µì§¸ë¡œ êµì²´í•´ì•¼ í•©ë‹ˆë‹¤. â˜…â˜…â˜…
            const firebaseConfig = {
              apiKey: "YOUR_API_KEY", 
              authDomain: "YOUR_AUTH_DOMAIN", 
              projectId: "YOUR_PROJECT_ID", 
              // storageBucket, messagingSenderId, appId ë“± ë‚˜ë¨¸ì§€ ì„¤ì •ë„ ì—¬ê¸°ì— ì¶”ê°€
            };
            
            // Firebase ì´ˆê¸°í™” (ë¡œë“œ ì‹¤íŒ¨ë¥¼ ëŒ€ë¹„í•´ íƒ€ì… ì²´í¬ ì¶”ê°€)
            if (typeof firebase !== 'undefined') {
                firebase.initializeApp(firebaseConfig);
                const db = firebase.firestore();
            } else {
                console.error("Firebase ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.");
            }

            // -------------------- A. ìƒìˆ˜ ë° ë³€ìˆ˜ --------------------
            // ğŸš¨ ê´€ë¦¬ì ë¡œê·¸ì¸ ë¹„ë°€ë²ˆí˜¸: 'shinheung8802!' (ëŠë‚Œí‘œ í¬í•¨)
            const SECRET_PASSWORDS = ['shinheung8802!']; 
            // ğŸ”‘ ì •ë…ì‹¤ ì ‘ê·¼ ë¹„ë°€ë²ˆí˜¸: 'shinheung8802' (ëŠë‚Œí‘œ ì—†ìŒ)
            const TEST3_PASSWORD = 'shinheung8802'; 
            
            let isAdminLoggedIn = localStorage.getItem('isAdminLoggedIn') === 'true';
            
            // DOM ìš”ì†Œ ì •ì˜
            const adminModeToggle = document.getElementById('admin-mode-toggle');
            const adminLoginModal = document.getElementById('adminLoginModal');
            const adminPassInput = document.getElementById('adminPass');
            const adminLoginButton = document.getElementById('admin-login-button');
            const adminCancelButton = document.getElementById('admin-cancel-button');
            const test3Link = document.getElementById('test-3-link');
            
            // í•„ìˆ˜ ìš”ì†Œê°€ ë¡œë“œë˜ì—ˆëŠ”ì§€ ë‹¤ì‹œ í•œë²ˆ í™•ì¸í•©ë‹ˆë‹¤.
            if (!adminModeToggle || !adminLoginModal || !test3Link) {
                 console.error("í•„ìˆ˜ DOM ìš”ì†Œê°€ HTMLì— ì—†ìŠµë‹ˆë‹¤. IDë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.");
                 return; 
            }

            // -------------------- B. UI & í•¸ë“¤ëŸ¬ í•¨ìˆ˜ --------------------
            
            const updateAdminUI = () => {
                if (isAdminLoggedIn) {
                    adminModeToggle.textContent = 'ê´€ë¦¬ì ëª¨ë“œ (ë¡œê·¸ì•„ì›ƒ)';
                    adminModeToggle.classList.add('admin-logged-in');
                } else {
                    adminModeToggle.textContent = 'ê´€ë¦¬ì/ì„ ìƒë‹˜ ë¡œê·¸ì¸';
                    adminModeToggle.classList.remove('admin-logged-in');
                }
            };

            const handleAdminLogin = () => {
                isAdminLoggedIn = true;
                localStorage.setItem('isAdminLoggedIn', 'true');
                updateAdminUI();
                adminLoginModal.style.display = 'none';
                alert('ê´€ë¦¬ì/ì„ ìƒë‹˜ìœ¼ë¡œ ë¡œê·¸ì¸í–ˆìŠµë‹ˆë‹¤.');
            };

            // -------------------- C. ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ --------------------

            // 1. ê´€ë¦¬ì ë¡œê·¸ì¸ í† ê¸€ ë²„íŠ¼ (âœ… ì´ ë²„íŠ¼ì´ ì´ì œ ì‘ë™í•´ì•¼ í•©ë‹ˆë‹¤.)
            adminModeToggle.addEventListener('click', () => {
                if (isAdminLoggedIn) {
                    isAdminLoggedIn = false;
                    localStorage.removeItem('isAdminLoggedIn');
                    updateAdminUI();
                    alert('ê´€ë¦¬ì ëª¨ë“œê°€ í•´ì œë˜ì—ˆìŠµë‹ˆë‹¤.');
                } else {
                    adminPassInput.value = '';
                    adminLoginModal.style.display = 'block';
                    setTimeout(() => {
                        adminPassInput.focus(); // ì…ë ¥ì°½ì— í¬ì»¤ìŠ¤
                    }, 100);
                }
            });

            // 2. ê´€ë¦¬ì ë¡œê·¸ì¸ ë²„íŠ¼ (ëª¨ë‹¬ ë‚´ë¶€)
            adminLoginButton.addEventListener('click', () => {
                const password = adminPassInput.value;
                // ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ëŠ” 'shinheung8802!' ì…ë‹ˆë‹¤.
                if (SECRET_PASSWORDS.includes(password)) {
                    handleAdminLogin();
                } else {
                    alert('ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤.');
                }
            });

            // 3. ê´€ë¦¬ì ë¡œê·¸ì¸ ì·¨ì†Œ ë²„íŠ¼
            adminCancelButton.addEventListener('click', () => {
                adminLoginModal.style.display = 'none';
            });
            
            // 4. ì •ë…ì‹¤ (test-3.html) ì ‘ê·¼ ë¡œì§ (âœ… ì´ ê¸°ëŠ¥ì´ ì´ì œ ì‘ë™í•´ì•¼ í•©ë‹ˆë‹¤.)
            test3Link.addEventListener('click', (event) => {
                event.preventDefault(); // ê¸°ë³¸ ë§í¬ ì´ë™ ë°©ì§€
                
                // 1. ê´€ë¦¬ì ë¡œê·¸ì¸ ìƒíƒœë©´ ë°”ë¡œ ì´ë™ 
                if (isAdminLoggedIn) {
                    window.location.href = 'test-3.html';
                    return;
                }

                // 2. ì¼ë°˜ ì‚¬ìš©ìì¼ ê²½ìš°, ë¹„ë°€ë²ˆí˜¸ í”„ë¡¬í”„íŠ¸ í‘œì‹œ
                const password = prompt("ì •ë…ì‹¤ í˜ì´ì§€ë¡œ ì´ë™í•˜ë ¤ë©´ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”:");
                
                if (password === null) {
                    return; 
                }

                // 3. ë¹„ë°€ë²ˆí˜¸ í™•ì¸ ('shinheung8802') í›„ ì´ë™
                if (password === TEST3_PASSWORD) {
                    window.location.href = 'test-3.html';
                } else {
                    alert("ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤.");
                }
            });
            
            // ì´ˆê¸° UI ìƒíƒœ ì„¤ì •
            updateAdminUI(); 
        });

    </script>
</head>
<body>

    <button id="admin-mode-toggle">ê´€ë¦¬ì/ì„ ìƒë‹˜ ë¡œê·¸ì¸</button>

    <div id="main-hub">
        <h1>í†µí•© ì¢Œì„ ì˜ˆì•½ ì‹œìŠ¤í…œ</h1>
        <div class="nav-container">
            <h2>ì¢Œì„ ë°°ì¹˜ ì„ íƒ</h2>
            <a class="nav-button" href="test-1.html">ì„œí¸ í™ˆë² ì´ìŠ¤(1ë°˜ìª½)</a>
            <a class="nav-button" href="test-2.html">ë™í¸ í™ˆë² ì´ìŠ¤(9ë°˜ìª½)</a>
            <a class="nav-button" href="test-3.html" id="test-3-link">ì •ë…ì‹¤ (ë„ì„œê´€ ì•)</a>
        </div>
    </div>
    
    <div id="adminLoginModal" class="modal">
        <div class="modal-content">
            <h3>ê´€ë¦¬ì/ì„ ìƒë‹˜ ë¡œê·¸ì¸</h3>
            <div class="input-group">
                <label for="adminPass">ë¹„ë°€ë²ˆí˜¸:</label>
                <input type="password" id="adminPass" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
            </div>
            <div class="modal-buttons" style="margin-top: 20px; display: flex; gap: 10px; justify-content: center;">
                <button id="admin-login-button">ë¡œê·¸ì¸</button>
                <button id="admin-cancel-button">ì·¨ì†Œ</button>
            </div>
        </div>
    </div>

</body>
</html>